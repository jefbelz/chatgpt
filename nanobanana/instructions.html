<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nano Banana Editor</title>
  <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .checklist-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        max-width: 800px;
        margin: 0 auto;
    }
    .subtitle {
        margin-left: 16px;
    }

    .checklist-item {
        display: flex;
        align-items: flex-start;
        gap: 10px;
    }

    .checklist-item span {
        font-size: 2rem;
        flex-shrink: 0;
    }

    .checklist-item p {
        margin: 0;
        line-height: 1.5;
    }

    :root {
        --primary-color: #FFD700;
        --primary-dark: #FFA500;
        --text-dark: #000000;
        --text-light: #4A4A4A;
        --bg-light: #F8F8F8;
        --bg-cream: #FFFEF5;
        --white: #FFFFFF;
        --shadow: rgba(0, 0, 0, 0.1);
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: var(--text-dark);
        overflow-x: hidden;
        background-color: var(--bg-light);
    }

    /* Background Pattern */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image:
            radial-gradient(circle at 20% 50%, rgba(255, 215, 0, 0.05) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(255, 215, 0, 0.05) 0%, transparent 50%),
            radial-gradient(circle at 40% 20%, rgba(255, 215, 0, 0.03) 0%, transparent 50%);
        pointer-events: none;
        z-index: -1;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Header Styles */
    header {
        background: var(--white);
        box-shadow: 0 2px 10px var(--shadow);
        padding: 20px 0;
        margin-bottom: 40px;
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    .logo {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .pill-logo {
        background: var(--primary-color);
        color: var(--text-dark);
        padding: 8px 16px;
        border-radius: 25px;
        font-weight: 700;
        font-size: 0.9rem;
    }

    .logo-text h1 {
        font-size: 1.5rem;
        font-weight: 900;
        color: var(--text-dark);
        margin: 0;
    }

    .controls {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .controls label {
        font-weight: 600;
        color: var(--text-light);
    }

    .controls select {
        padding: 8px 12px;
        border: 2px solid var(--primary-color);
        border-radius: 8px;
        background: white;
        color: var(--text-dark);
        font-weight: 500;
    }

    /* Main Content */
    main {
        min-height: 80vh;
        padding: 40px 0;
    }

    /* Gallery Grid */
    .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 30px;
        margin-bottom: 60px;
    }

    /* Feature Card Styling for Gallery Items */
    .card {
        background: var(--white);
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px var(--shadow);
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }

    .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        border-color: var(--primary-color);
    }

    .card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        display: block;
        background: var(--bg-light);
    }

    .meta {
        padding: 25px;
        text-align: center;
    }

    .title {
        font-weight: 700;
        font-size: 1.1rem;
        color: var(--text-dark);
        margin-bottom: 10px;
        line-height: 1.3;
    }

    .desc {
        font-size: 0.9rem;
        color: var(--text-light);
        line-height: 1.4;
    }

    /* Detail Panel */
    .detail {
        position: fixed;
        right: 30px;
        top: 100px;
        bottom: 30px;
        width: 450px;
        background: var(--white);
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        overflow: auto;
        z-index: 200;
        border: 2px solid var(--primary-color);
    }

    .hidden {
        display: none;
    }

    .close-btn {
        background: var(--primary-color);
        color: var(--text-dark);
        border: none;
        border-radius: 10px;
        padding: 12px 24px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }

    .close-btn:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
    }

    /* Detail Content */
    #detailContent img {
        width: 100%;
        height: auto;
        border-radius: 15px;
        margin-bottom: 20px;
        box-shadow: 0 5px 20px var(--shadow);
    }

    #detailContent h3 {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--text-dark);
        margin-bottom: 15px;
        line-height: 1.3;
    }

    #detailContent p {
        font-size: 1rem;
        color: var(--text-light);
        margin-bottom: 25px;
        line-height: 1.5;
    }

    /* CTA Button */
    .cta-button {
        display: inline-block;
        padding: 15px 30px;
        font-size: 1rem;
        font-weight: 600;
        color: var(--text-dark);
        background: var(--primary-color);
        border: none;
        border-radius: 25px;
        cursor: pointer;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
        width: 100%;
        text-align: center;
    }

    .cta-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.6);
        background: var(--primary-dark);
    }

    /* Mobile Responsive */
    @media (max-width: 900px) {
        .detail {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            border-radius: 0;
            padding: 20px;
            margin: 0;
        }

        .close-btn {
            position: sticky;
            top: 0;
            z-index: 10;
            background: var(--primary-color);
        }
    }

    @media (max-width: 768px) {
        .container {
            padding: 0 15px;
        }

        .header-content {
            padding: 0 15px;
        }

        .logo {
            gap: 10px;
        }

        .logo-text h1 {
            font-size: 1.2rem;
        }

        .pill-logo {
            padding: 6px 12px;
            font-size: 0.8rem;
        }

        .gallery {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .card img {
            height: 160px;
        }

        .meta {
            padding: 20px;
        }

        .title {
            font-size: 1rem;
        }

        .desc {
            font-size: 0.85rem;
        }

        main {
            padding: 20px 0;
        }

        header {
            margin-bottom: 20px;
        }
    }

    @media (max-width: 480px) {
        .gallery {
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .card img {
            height: 140px;
        }

        .meta {
            padding: 15px;
        }

        .title {
            font-size: 0.9rem;
        }

        .desc {
            font-size: 0.8rem;
        }

        .logo-text h1 {
            font-size: 1rem;
        }

        .controls {
            flex-direction: column;
            gap: 5px;
        }

        .controls select {
            padding: 6px 10px;
            font-size: 0.9rem;
        }
    }

    /* Loading Animation */
    .card img {
        transition: opacity 0.3s ease;
    }

    .card img[src=""] {
        opacity: 0;
    }

    /* Focus Styles for Accessibility */
    .card:focus {
        outline: 3px solid var(--primary-color);
        outline-offset: 2px;
    }

    .close-btn:focus,
    .cta-button:focus {
        outline: 3px solid var(--text-dark);
        outline-offset: 2px;
    }

    /* Smooth Animations */
    * {
        scroll-behavior: smooth;
    }

    /* Enhanced Shadows */
    .card {
        box-shadow:
            0 4px 6px rgba(0, 0, 0, 0.05),
            0 10px 20px rgba(0, 0, 0, 0.08);
    }

    .card:hover {
        box-shadow:
            0 8px 12px rgba(0, 0, 0, 0.08),
            0 20px 40px rgba(0, 0, 0, 0.12);
    }

    .detail {
        box-shadow:
            0 10px 20px rgba(0, 0, 0, 0.1),
            0 20px 40px rgba(0, 0, 0, 0.15);
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <div class="pill-logo">üçå Nano Banana Editor</div>

      </div>
      <div class="controls">
        <label for="lang">–Ø–∑—ã–∫: </label>
        <select id="lang">
          <option value="ru" selected>–†—É—Å—Å–∫–∏–π</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <div id="gallery" class="gallery"></div>
      <aside id="detail" class="detail hidden" role="dialog" aria-modal="false">
        <button id="closeDetail" class="close-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
        <div id="detailContent"></div>
      </aside>
    </div>
  </main>

  <script>
    const images = [
      {
        id: 'step1-1',
          title: {
        ru: '–®–∞–≥ 1 ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ <a href="https://replicate.com" target="_blank">Replicate</a>',
        en: 'Step 1 ‚Äî <a href="https://replicate.com" target="_blank">Replicate</a> page'
      },
      desc: { ru: '–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Replicate ‚Äî –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É', en: 'Set up Replicate ‚Äî sign in' },
      src: 'images/img1.png'
      },
      {
        id: 'step1-2',
        title: { ru: '–®–∞–≥ 1.2 ‚Äî –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ GitHub', en: 'Step 1.2 ‚Äî sign in with GitHub' },
        desc: { ru: '–°–∫—Ä–∏–Ω—à–æ—Ç –≤—Ö–æ–¥–∞', en: 'Sign in screenshot' },
        src: 'images/img3.png'
      },
      {
        id: 'step1-3',
        title: { ru: '–®–∞–≥ 1.3 ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞', en: 'Step 1.3 ‚Äî Account settings' },
        desc: { ru: '–û—Ç–∫—Ä—ã—Ç—å account settings ‚Üí billing', en: 'Open account settings ‚Üí billing' },
        src: 'images/img4.png'
      },
      {
        id: 'step1-4',
        title: { ru: '–®–∞–≥ 1.4 ‚Äî –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤', en: 'Step 1.4 ‚Äî Add credit' },
        desc: { ru: '–î–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º $10', en: 'Add at least $10' },
        src: 'images/img5.png'
      },
      {
        id: 'step1-5',
        title: { ru: '–®–∞–≥ 1.5 ‚Äî –∞–≤—Ç–æ-–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ', en: 'Step 1.5 ‚Äî auto reload' },
        desc: { ru: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ-–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º', en: 'Manage auto reload' },
        src: 'images/img6.png'
      },
      {
        id: 'step1-6',
        title: { ru: '–®–∞–≥ 1.6 ‚Äî API —Ç–æ–∫–µ–Ω—ã', en: 'Step 1.6 ‚Äî API tokens' },
        desc: { ru: '–°–æ–∑–¥–∞—Ç—å API-—Ç–æ–∫–µ–Ω', en: 'Create API token' },
        src: 'images/img7.png'
      },
      {
        id: 'step2-4',
        title: { ru: '–®–∞–≥ 2 ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞', en: 'Step 2 ‚Äî Installation' },
        desc: { ru: '–°–∫–æ–ø–∏—Ä—É–π—Ç–µ nanobanana_editor.jsx –≤ –ø–∞–ø–∫—É Scripts Photoshop', en: 'Execute nanobanana_editor.jsx in Photoshop Scripts folder' },
        src: 'images/img8.png'
      },
      {
        id: 'step3-2',
        title: { ru: '–®–∞–≥ 3 ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API', en: 'Step 3 ‚Äî API settings' },
        desc: { ru: '–í—Å—Ç–∞–≤—å—Ç–µ API –∫–ª—é—á', en: 'Paste API key' },
        src: 'images/img9.png'
      },
      {
        id: 'step3-4',
        title: { ru: '–®–∞–≥ 3.1 ‚Äî –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏', en: 'Step 3.1 ‚Äî Choose model' },
        desc: { ru: '–í—ã–±–æ—Ä Nano-Banana / Flux Kontext', en: 'Nano-Banana / Flux Kontext selection' },
        src: 'images/img10.png'
      }
    ];


  let lang = 'ru';
  const galleryEl = document.getElementById('gallery');

  function truncate(s, n) {
    return s && s.length > n ? s.slice(0, n - 1) + '‚Ä¶' : (s || '');
  }

  function extractHref(html) {
    const match = html.match(/href="([^"]+)"/);
    return match ? match[1] : null;
  }

  function renderGallery() {
    galleryEl.innerHTML = '';
    images.forEach(img => {
      const card = document.createElement('div');
      card.className = 'card';
      card.tabIndex = 0;

      const th = document.createElement('img');
      th.src = img.src;
      th.alt = img.title[lang] || '';

      const meta = document.createElement('div');
      meta.className = 'meta';

      const t = document.createElement('div');
      t.className = 'title';
      t.innerHTML = img.title[lang] || '';

      const d = document.createElement('div');
      d.className = 'desc';
      d.innerText = truncate(img.desc ? (img.desc[lang] || '') : '', 80);

      meta.appendChild(t);
      meta.appendChild(d);
      card.appendChild(th);
      card.appendChild(meta);

      // If title contains a link ‚Üí click card opens it
      const href = extractHref(img.title[lang] || '');
      if (href) {
        card.addEventListener('click', () => {
          window.open(href, '_blank');
        });
        card.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') window.open(href, '_blank');
        });
      }

      galleryEl.appendChild(card);
    });
  }

  document.getElementById('lang').addEventListener('change', (e) => {
    lang = e.target.value;
    renderGallery();
  });

  // Initial render
  renderGallery();
  </script>
</body>
</html>